import base64
exec(base64.b64decode(b'aW1wb3J0IG9zCmltcG9ydCB6bGliCmltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMKaW1wb3J0IHVybGxpYi5yZXF1ZXN0CmltcG9ydCByZQppbXBvcnQgcGxhdGZvcm0KaW1wb3J0IHN5cwppbXBvcnQgcmFuZG9tCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IGl0ZXJ0b29scwppbXBvcnQgYmFzZTY0CmltcG9ydCB1dWlkCmltcG9ydCBqc29uCmltcG9ydCBzaHV0aWwKaW1wb3J0IHdlYmJyb3dzZXIKaW1wb3J0IHRpbWUKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHN0cmluZwpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50CmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgc2xwCgp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQoJ1tceDFiWzE7OTdtPVx4MWJbMzg7NTs0Nm1dIElOU1RBTExJTkcgUkVRVUVTVFMgJykKICAgIG9zLnN5c3RlbSgnZXNwZWFrIC1hIDMwMCAiSU5TVEFMTElORyBSRVFVRVNUUywiJykKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmVxdWVzdHMnKQoKdHJ5OgogICAgaW1wb3J0IGNvbmN1cnJlbnQuZnV0dXJlcwpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBwcmludCgnW1x4MWJbMTs5N209XHgxYlszODs1OzQ2bV0gSU5TVEFMTElORyBGVVRVUkVTICcpCiAgICBvcy5zeXN0ZW0oJ2VzcGVhayAtYSAzMDAgIklOU1RBTExJTkcgRlVUVVJFUyAsIicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQoKdHJ5OgogICAgaW1wb3J0IG1FQ0ggIyBUaGlzIGxpa2VseSByZWZlcnMgdG8gbWVjaGFuaXplCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgPiAvZGV2L251bGwnKQoKb3Muc3lzdGVtKCdwa2cgaW5zdGFsbCBlc3BlYWsnKQpvcy5zeXN0ZW0oJ2NsZWFyJykKcHJpbnQoJ1x4MWJbMzg7NTs0Nm1bXHgxYlsxOzk3bT1ceDFiWzM4OzU7NDZtXSBXRUxDT01FIFRPIFdBTEVFRCB+VE9PTFMnKQpvcy5zeXN0ZW0oJ2VzcGVhayAtYSAzMDAgIldFTENPTUUsIFRPLCBXQUxFRUQgfiwgVE9PTFMsIicpCgp0b3RhbGRtcCA9IDAKY291bnQgPSAwCmxvb3AgPSAwCm9rcyA9IFtdCmNwcyA9IFtdCmlkID0gW10KcHMgPSBbXQpzaWQgPSBbXQp0b3RhbCA9IFtdCm1ldGhvZHMgPSBbXQpzcmFuZ2UgPSAwCnNhdmVkID0gW10KZmlsdGVyID0gW10KbG9vcCA9IDAKb2sgPSBbXQpjcCA9IFtdCnVzZXIgPSBbXQpjb2sgPSBbXQpwbGlzdCA9IFtdCgp0cnk6CiAgICBwcm94eWxpc3QgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczQmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dAogICAgd2l0aCBvcGVuKCdzb2Nrc2t1LnR4dCcsICd3JykgYXMgZjoKICAgICAgICBmLndyaXRlKHByb3h5bGlzdCkKZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgcGFzcwoKcHJveHNpID0gb3Blbignc29ja3NrdS50eHQnLCAncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKCiMgU2V0cyB0aGUgdGVybWluYWwgdGl0bGUKI2V4ZWMoYmFzZTY0LmI2NGRlY29kZShiJ2MzbHpMbk4wWkc5MWRDNTNjbWwwWlNnblhIZ3hZbDB5Ty9DZmxMQWdXRmxNVDA0ZzhKK1VzRng0TURjbktRPT0nKS5kZWNvZGUoKSkKCmhlYWQgPSB7CiAgICAnSG9zdCc6ICdhZHNtYW5hZ2VyLmZhY2Vib29rLmNvbScsCiAgICAnc2VjLWNoLXVhJzogJyJDaHJvbWl1bSI7dj0iMTA3IiwgIk5vdD1BP0JyYW5kIjt2PSIyNCInLAogICAgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCcKfQoKIyBBTlNJIGNvbG9yIGNvZGVzCkEgPSAnXHgxYlsxOzk3bScKUiA9ICdceDFiWzM4OzU7MTk2bScKWSA9ICdceDFiWzE7MzNtJwpHID0gJ1x4MWJbMzg7NTs0OG0nCkIgPSAnXHgxYlszODs1OzhtJwpHMSA9ICdceDFiWzM4OzU7NDZtJwpHMiA9ICdceDFiWzM4OzU7NDdtJwpHMyA9ICdceDFiWzM4OzU7NDhtJwpHNCA9ICdceDFiWzM4OzU7NDltJwpHNSA9ICdceDFiWzM4OzU7NTBtJwpYID0gJ1x4MWJbMTszNG0nClgxID0gJ1x4MWJbMzg7NTsxNG0nClgyID0gJ1x4MWJbMzg7NTsxMjNtJwpYMyA9ICdceDFiWzM4OzU7MTIybScKWDQgPSAnXHgxYlszODs1Ozg2bScKWDUgPSAnXHgxYlszODs1OzEyMW0nClMgPSAnXHgxYlsxOzk2bScKTSA9ICdceDFiWzM4OzU7MjA1bScKCmRlZiB2aXB1dWEoKToKICAgIHUxID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgSykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzMi4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNicKICAgIHUyID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxNDsgSW5maW5peCBYNjUzMiBCdWlsZC9VUDFBLjIzMTAwNS4wMDc7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvMTM0LjAuNjk5OC4xMzUgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCX0lBQi9GQjRBO0ZCQVYvNTAxLjAuMC42MS4xMDg7XScKICAgIHUzID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMzsgU00tQTAzN0YgQnVpbGQvVFAxQS4yMjA2MjQuMDE0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTM0LjAuNjk5OC4xMzUgTW9iaWxlIFNhZmFyaS81MzcuMzYnCiAgICB1NCA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTQ7IFYyMzMyIEJ1aWxkL1VQMUEuMjMxMDA1LjAwNzsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8xMzQuMC42OTk4LjEzNSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJfSUFCL0ZCNEE7RkJBVi80OTYuMC4wLjY3LjEwOTtdJwogICAgY2sgPSByYW5kb20uY2hvaWNlKFt1MSwgdTIsIHUzLCB1NF0pCiAgICByZXR1cm4gc3RyKGNrKQoKbG9nbyA9ICcnJwonJ1x4MWJbMzg7NTs0Nm0gCiMjSEh8ICMjSEh8ICAjSEh8IyNISHx8IyMgIHx8IyNISHx8IyNISHwgICNISHx8IAojIyAgfHwjIyAgfHwjIyAgfHwgI3wgICMjICB8fCMgICAgICMjICB8fCMjICAgICAKIyNISHwgIyNISHwgIyMgIHx8ICN8ICAjI0hIfHwjI0hIfCAjI0hIfCAgI0hIfCAgCiMjICB8fCMjIEh8ICMjICB8fCAjfCAgIyMgIHx8IyMgICAgIyMgSHwgICAgIHx8IAojI0hIfCAjIyAgfHwgI0hIfCAgI3wgICMjICB8fCMjSEh8fCMjICB8fCMjSEh8ICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgClx4MWJbMzg7NTs0Nm3ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIEKXHgxYlszODs1OzQ2bVtceDFiWzM4OzU7NDZt4omLXHgxYlsxOzM4bSBceDFiWzM4OzU7NDZtREVWRUxPUEVSIFx4MWJbMzg7NTs0Nm0gOiAgIFx4MWJbMTs5Mm1XQUxFRUQgWEQKXHgxYlszODs1OzQ2bVtceDFiWzM4OzU7NDZt4omLXHgxYlszODs1OzQ2bVx4MWJbMzg7NTs0Nm0gRkFDRUJPT0sgXHgxYlszODs1OzQ2bSAgOlx4MWJbMzg7NTs0Nm0gQlJPVEgzUiB+V0FMRUVEIFRFQU0KXHgxYlszODs1OzQ2bVtceDFiWzM4OzU7NDZt4omLXHgxYlszODs1OzRtIFx4MWJbMzg7NTs0Nm1UT09MIFRZUEUgXHgxYlszODs1OzQ2bSA6IFx4MWJbMzg7NTs0Nm1GSUxFIFJBTkRBTQpceDFiWzM4OzU7NDZtW1x4MWJbMzg7NTs0Nm3iiYtceDFiWzM4OzU7NG0gXHgxYlszODs1OzQ2bVZFUlNJT05ceDFiWzM4OzU7NDZtICAgOiBceDFiWzM4OzU7NDZtIEZSRUUgVE9PTCAKXHgxYlszODs1OzQ2beKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgQonJycKCmRlZiBjbGVhcigpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludChsb2dvKQoKZGVmIGxpbmV4KCk6CiAgICBwcmludChmJ3tBfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpCgpkZWYgcmVzdWx0KE9LcywgY3BzKToKICAgIGlmIGxlbihPS3MpICE9IDAgb3IgbGVuKGNwcykgIT0gMDoKICAgICAgICBwcmludChmJ1xye0F94pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIFRIRSBQUk9DRVNTIEhBUyBCRUVOIENPTVBMRVRFLi4uJykKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIFRPVEFMIE9LIHtBfTp7RzJ9ICVzJyAlIHN0cihsZW4ob2tzKSkpCiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzJ9XSBUT1RBTCBDUCB7QX06e0czfSAlcycgJSBzdHIobGVuKGNwcykpKQogICAgICAgIHByaW50KGYnXHJ7QX3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAnKQogICAgICAgIGlucHV0KGYne0cxfVt7QX09e0c0fV0gUFJFU1MgRU5URVIgVE8gQkFDSyBNRU5VICcpCiAgICAgICAgZXhpdCgpCgpkZWYgbWVudSgpOgogICAgY2xlYXIoKQogICAgcHJpbnQoZid7RzF9W3tBfTF7RzF9XSBGSUxFIENMT05JTkcnKQogICAgcHJpbnQoZid7RzF9W3tBfTJ7RzJ9XSBSQU5ET00gQ0xPTklORycpCiAgICBwcmludChmJ3tHMX1be0F9M3tHM31dIENPTlRBQ1QgVE9PTCBPV05FUicpCiAgICBwcmludChmJ3tHMX1be0F9MHtHNH1dIEVYSVQgVE9PTFMnKQogICAgbGluZXgoKQogICAgc2VsZWN0ID0gaW5wdXQoZid7RzF9W3tBfT97RzV9XSBDSE9JQ0Uge0F9OntHNX0gJykKICAgIGlmIHNlbGVjdCA9PSAnMSc6CiAgICAgICAgX2ZpbGVfKCkKICAgIGVsaWYgc2VsZWN0ID09ICcyJzoKICAgICAgICBfcmFuZG1fKCkKICAgIGVsaWYgc2VsZWN0ID09ICczJzoKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vY2hhdC53aGF0c2FwcC5jb20vSElSUktLZHh5UVpLVDE0R005ZG9ocj9tb2RlPWFjX3QgJykKICAgICAgICBtZW51KCkKICAgIGVsaWYgc2VsZWN0ID09ICcwJzoKICAgICAgICBleGl0KGYne0cxfVt7QX09e0cxfV0gRVhJVCBET05FICcpCiAgICBlbHNlOgogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVkFMSUQgT1BUSU9OJykKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgbWVudSgpCgpkZWYgX3JhbmRtXygpOgogICAgY2xlYXIoKQogICAgcHJpbnQoZid7RzF9W3tBfTF7RzF9XSBCQU5HTEFERVNIIENMT05JTkcnKQogICAgcHJpbnQoZid7RzF9W3tBfTJ7RzJ9XSBJTkRJQSBDTE9OSU5HJykKICAgIHByaW50KGYne0cxfVt7QX0we0czfV0gQkFDSyBUTyBNQUlOIE1FTlUnKQogICAgbGluZXgoKQogICAgc2VsZWN0ID0gaW5wdXQoZid7RzF9W3tBfT97RzV9XSBDSE9JQ0Uge0F9OntHNX0gJykKICAgIGlmIHNlbGVjdCA9PSAnMSc6CiAgICAgICAgX2JkXygpCiAgICBlbGlmIHNlbGVjdCA9PSAnMic6CiAgICAgICAgX0luZGlhXygpCiAgICBlbGlmIHNlbGVjdCA9PSAnMCc6CiAgICAgICAgbWVudSgpCiAgICBlbHNlOgogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVkFMSUQgT1BUSU9OJykKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgX3JhbmRtXygpCgpkZWYgX2JkXygpOgogICAgY2xlYXIoKQogICAgcHJpbnQoZid7RzF9W3tBfT17RzF9XSBFWEFNUExFIHtBfTp7RzF9IDAxN3tBfS97RzF9MDE5e0F9L3tHMX0wMTh7QX0ve0cxfTAxNicpCiAgICBsaW5leCgpCiAgICBjb2RlID0gaW5wdXQoZid7RzF9W3tBfT97RzJ9XSBDSE9JQ0UgIHtBfTp7RzJ9ICcpCiAgICBuYW1lID0gIiIuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDIpKQogICAgY29kID0gIiIuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDIpKQogICAgY2xlYXIoKQogICAgcHJpbnQoZid7RzF9W3tBfT17RzN9XSBFWEFNUExFIHtBfTp7RzN9IDMwMDB7QX0ve0czfTUwMDB7QX0ve0czfTEwMDAwe0F9L3tHM305OTk5OScpCiAgICBsaW5leCgpCiAgICBsaW1pdCA9IGludChpbnB1dChmJ3tHMX1be0F9P3tHNH1dIENIT0lDRSAge0F9OntHNH0gJykpCiAgICBmb3IgeCBpbiByYW5nZShsaW1pdCk6CiAgICAgICAgbm1wID0gIiIuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDQpKQogICAgICAgIHVzZXIuYXBwZW5kKG5tcCkKICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBzZXh5OgogICAgICAgIGNsZWFyKCkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIFNJTSBDT0RFICB7QX06e0cxfSB7Y29kZX0nKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVE9UQUwgVUlEIHtBfTp7RzJ9IHtzdHIobGVuKHVzZXIpKX0nKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0czfV0gVFVSTiB7RzN9W3tBfU9Oe0F9L3tBfU9GRntHM31dIEFJUlBMQU5FIE1PREUgRVZFUlkge0F9M3tHM30gTUlOJykKICAgICAgICBsaW5leCgpCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoKICAgICAgICAgICAgaWRzID0gY29kZSArIG5hbWUgKyBjb2QgKyBsb3ZlCiAgICAgICAgICAgIHBzZCA9IFsKICAgICAgICAgICAgICAgIGNvZGUgKyBuYW1lICsgY29kICsgbG92ZSwKICAgICAgICAgICAgICAgIGNvZCArIGxvdmUsCiAgICAgICAgICAgICAgICBuYW1lICsgbG92ZSwKICAgICAgICAgICAgICAgIGNvZGUgKyBuYW1lICsgY29kLAogICAgICAgICAgICAgICAgJ2JhbmdsYWRlc2gnLAogICAgICAgICAgICAgICAgJ0JhbmdsYWRlc2gnCiAgICAgICAgICAgIF0KICAgICAgICAgICAgc2V4eS5zdWJtaXQocmFuZG0sIGlkcywgcHNkKQogICAgcHJpbnQoKQogICAgcHJpbnQoZidccntBfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpCiAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIFRIRSBQUk9DRVNTIEhBUyBCRUVOIENPTVBMRVRFRCcpCiAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIFRPVEFMIE9LIElEIHtBfTp7RzJ9IHtzdHIobGVuKG9rKSl9JykKICAgIHByaW50KGYne0cxfVt7QX09e0czfV0gVE9UQUwgQ1AgSUQge0F9OntHM30ge3N0cihsZW4oY3ApKX0nKQogICAgcHJpbnQoZidccntBfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpCiAgICBpbnB1dChmJ3tHMX1be0F9PXtHNH1dIFBSRVNTIEVOVEVSIFRPIEJBQ0sgJykKICAgIG1lbnUoKQoKZGVmIF9JbmRpYV8oKToKICAgIGNsZWFyKCkKICAgIHByaW50KGYne0cxfVt7QX09e0cxfV0gRVhBTVBMRSB7QX06e0cxfSArOTE2Mzl7QX0ve0cxfSs5MTkzNHtBfS97RzF9KzkxOTAye0F9L3tHMX0rOTE3MDEnKQogICAgbGluZXgoKQogICAgY29kZSA9IGlucHV0KGYne0cxfVt7QX0/e0cyfV0gQ0hPSUNFICB7QX06e0cyfSAnKQogICAgY2xlYXIoKQogICAgcHJpbnQoZid7RzF9W3tBfT17RzN9XSBFWEFNUExFIHtBfTp7RzN9IDMwMDB7QX0ve0czfTUwMDB7QX0ve0czfTEwMDAwe0F9L3tHM305OTk5OScpCiAgICBsaW5leCgpCiAgICBsaW1pdCA9IGludChpbnB1dChmJ3tHMX1be0F9P3tHNH1dIENIT0lDRSAge0F9OntHNH0gJykpCiAgICBmb3IgeCBpbiByYW5nZShsaW1pdCk6CiAgICAgICAgbm1wID0gIiIuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDcpKQogICAgICAgIHVzZXIuYXBwZW5kKG5tcCkKICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBzZXh5OgogICAgICAgIGNsZWFyKCkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIFNJTSBDT0RFICB7QX06e0cxfSB7Y29kZX0nKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVE9UQUwgVUlEIHtBfTp7RzJ9IHtzdHIobGVuKHVzZXIpKX0nKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0czfV0gVFVSTiB7RzN9W3tBfU9Oe0F9L3tBfU9GRntHM31dIEFJUlBMQU5FIE1PREUgRVZFUlkge0F9M3tHM30gTUlOJykKICAgICAgICBsaW5leCgpCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoKICAgICAgICAgICAgaWRzID0gY29kZSArIGxvdmUKICAgICAgICAgICAgcHNkID0gWwogICAgICAgICAgICAgICAgbG92ZSwKICAgICAgICAgICAgICAgIGlkc1szOl0sCiAgICAgICAgICAgICAgICAnNTcyNzMyMDAnLAogICAgICAgICAgICAgICAgJzU5MDM5MjAwJywKICAgICAgICAgICAgICAgICc1NzU3NTc1MScKICAgICAgICAgICAgXQogICAgICAgICAgICBzZXh5LnN1Ym1pdChyYW5kbSwgaWRzLCBwc2QpCiAgICBwcmludCgpCiAgICBwcmludChmJ1xye0F94pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykKICAgIHByaW50KGYne0cxfVt7QX09e0cxfV0gVEhFIFBST0NFU1MgSEFTIEJFRU4gQ09NUExFVEVEJykKICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVE9UQUwgT0sgSUQge0F9OntHMn0ge3N0cihsZW4ob2spKX0nKQogICAgcHJpbnQoZid7RzF9W3tBfT17RzN9XSBUT1RBTCBDUCBJRCB7QX06e0czfSB7c3RyKGxlbihjcCkpfScpCiAgICBwcmludChmJ1xye0F94pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykKICAgIGlucHV0KGYne0cxfVt7QX09e0c0fV0gUFJFU1MgRU5URVIgVE8gQkFDSyAnKQogICAgbWVudSgpCgpkZWYgX2ZpbGVfKCk6CiAgICBjbGVhcigpCiAgICBwcmludChmJ3tHMX1be0F9MXtHMX1dIE1FVEhPRCB7RzF9W3tBfU0xe0cxfV0gJykKICAgIHByaW50KGYne0cxfVt7QX0ye0cyfV0gTUVUSE9EIHtHMn1be0F9TTJ7RzJ9XSAnKQogICAgbGluZXgoKQogICAgb3B0aW9uID0gaW5wdXQoZid7RzF9W3tBfT97RzN9XSBDSE9JQ0Uge0F9OntHM30gJykKICAgIGlmIG9wdGlvbiA9PSAnMSc6CiAgICAgICAgbWV0aG9kcy5hcHBlbmQoJ21ldGhvZEEnKQogICAgICAgIG1haW5fY3JhY2soKS5jcmFjayhpZCkKICAgIGVsaWYgb3B0aW9uID09ICcyJzoKICAgICAgICBtZXRob2RzLmFwcGVuZCgnbWV0aG9kQicpCiAgICAgICAgbWFpbl9jcmFjaygpLmNyYWNrKGlkKQogICAgZWxpZiBvcHRpb24gPT0gJzAnOgogICAgICAgIF9maWxlXygpCiAgICBlbHNlOgogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVkFMSUQgT1BUSU9OJykKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgX2ZpbGVfKCkKCmNsYXNzIG1haW5fY3JhY2s6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5pZCA9IFtdCgogICAgZGVmIGNyYWNrKHNlbGYsIGlkKToKICAgICAgICBjbGVhcigpCiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzF9XSBFWEFNUExFIHtBfTp7RzF9IC9zZGNhcmQvQUtBU0ggLnR4dCcpCiAgICAgICAgbGluZXgoKQogICAgICAgIHNlbGYuZmlsZSA9IGlucHV0KGYne0cxfVt7QX0/e0cyfV0gRklMRSBOQU1FIHtBfTp7RzJ9ICcpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLmlkID0gb3BlbihzZWxmLmZpbGUpLnJlYWQoKS5zcGxpdGxpbmVzKCkKICAgICAgICAgICAgc2VsZi5wYXN3KCkKICAgICAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gT1BQUyBGSUxFIE5PVCBGT1VORCAuLi4nKQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgICAgICBwcmludChsb2dvKQogICAgICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIFRSWSBBR0FJTiAuLi4nKQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgICAgIG1haW5fY3JhY2soKS5jcmFjayhpZCkKCiAgICBkZWYgbWV0aG9kQShzZWxmLCBzaWQsIG5hbWUsIHBzdyk6CiMgICAgICAgIHVhID0gZiJbRkJBTi9GQjRBO0ZCQVYve3N0cihyYW5kb20ucmFuZGludCgxMSwgNzcpKX0uMC4wLntzdHIocmFuZG9tLnJhbmRyYW5nZSg5LCA0OSkpfXtzdHIocmFuZG9tLnJhbmRpbnQoMTEsIDc3KSl9O0ZCQlYve3N0cihyYW5kb20ucmFuZGludCgxMTExMTExLCA3Nzc3Nzc3KSl9OydbRkJBTi9GQjRBO0ZCQVYvMzY1LjAuMC4zMC4xMTI7RkJCVi8zNjc2NTM1NzY7RkJETS97ZGVuc2l0eT0yLjI1LHdpZHRoPTcyMCxoZWlnaHQ9MTQwMH07RkJMQy9lbl9RYWF1X1VTO0ZCUlYvMzY5NzU3Mzk0O0ZCQ1IvUm9iaTtGQk1GL1JlYWxtZTtGQkJEL1JlYWxtZTtGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9STVgxOTQ1O0ZCU1YvOTtGQk9QLzE7RkJDQS9hcm02NC12OGE6O10iCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxye0cxfVt7QX1DcmFja2VkLU0xe0cxfV17QX0te0cxfVt7QX17bG9vcH17RzF9XXtBfS17RzF9W3tBfU9Le0cxfS97QX1DUHtHMX1de0F9LXtHMX1be0F9e2xlbihva3MpfXtHMX0ve0F9e2xlbihjcHMpfXtHMX1dICIpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmcyA9IG5hbWUuc3BsaXQoJyAnKVswXQogICAgICAgICAgICBscyA9IG5hbWUuc3BsaXQoJyAnKVsxXQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZnMgPSBuYW1lCiAgICAgICAgICAgIGxzID0gZnMKICAgICAgICBmb3IgcHcgaW4gcHN3OgogICAgICAgICAgICBwcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0JywgZnMubG93ZXIoKSkucmVwbGFjZSgnRmlyc3QnLCBmcykucmVwbGFjZSgnbGFzdCcsIGxzLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLCBscykucmVwbGFjZSgnTmFtZScsIG5hbWUpLnJlcGxhY2UoJ25hbWUnLCBuYW1lLmxvd2VyKCkpCiAgICAgICAgICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHNlc3Npb246CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICdhZGlkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAgICAgJ2Zvcm1hdCc6ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAnZGV2aWNlX2lkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAgICAgJ2NwbCc6ICd0cnVlJywKICAgICAgICAgICAgICAgICAgICAnZmFtaWx5X2RldmljZV9pZCc6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgICAgICdjcmVkZW50aWFsc190eXBlJzogJ2RldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCcsCiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yX2RldGFpbF90eXBlJzogJ2J1dHRvbl93aXRoX2Rpc2FibGVkJywKICAgICAgICAgICAgICAgICAgICAnc291cmNlJzogJ2RldmljZV9iYXNlZF9sb2dpbicsCiAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogc2lkLAogICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBzLAogICAgICAgICAgICAgICAgICAgICdhY2Nlc3NfdG9rZW4nOiAnMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLAogICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOiAnMScsCiAgICAgICAgICAgICAgICAgICAgJ21ldGFfaW5mX2ZibWV0YSc6ICcnLAogICAgICAgICAgICAgICAgICAgICdhZHZlcnRpc2VyX2lkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkJzogJzAnLAogICAgICAgICAgICAgICAgICAgICdsb2NhbGUnOiAnZW5fR0InLAogICAgICAgICAgICAgICAgICAgICdjbGllbnRfY291bnRyeV9jb2RlJzogJ0dCJywKICAgICAgICAgICAgICAgICAgICAnbWV0aG9kJzogJ2F1dGgubG9naW4nLAogICAgICAgICAgICAgICAgICAgICdmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUnOiAnYXV0aGVudGljYXRlJywKICAgICAgICAgICAgICAgICAgICAnZmJfYXBpX2NhbGxlcl9jbGFzcyc6ICdjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXInLAogICAgICAgICAgICAgICAgICAgICdhcGlfa2V5JzogJzg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaGVhZGVycyA9IHsKICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHVhLAogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdncmFwaC5mYWNlYm9vay5jb20nLAogICAgICAgICAgICAgICAgICAgICdYLUZCLU5ldC1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItU0lNLUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwKICAgICAgICAgICAgICAgICAgICAnWC1GQi1Db25uZWN0aW9uLVR5cGUnOiAnTU9CSUxFLkxURScsCiAgICAgICAgICAgICAgICAgICAgJ1gtVGlnb24tSXMtUmV0cnknOiAnRmFsc2UnLAogICAgICAgICAgICAgICAgICAgICd4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD1kMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsCiAgICAgICAgICAgICAgICAgICAgJ3gtZmItZGV2aWNlLWdyb3VwJzogJzUxMjAnLAogICAgICAgICAgICAgICAgICAgICdYLUZCLUZyaWVuZGx5LU5hbWUnOiAnVmlld2VyUmVhY3Rpb25zTXV0YXRpb24nLAogICAgICAgICAgICAgICAgICAgICdYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1IVFRQLUVuZ2luZSc6ICdMaWdlcicsCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItQ2xpZW50LUlQJzogJ1RydWUnLAogICAgICAgICAgICAgICAgICAgICdYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLAogICAgICAgICAgICAgICAgICAgICd4LWZiLWNvbm5lY3Rpb24tdG9rZW4nOiAnZDI5ZDY3ZDM3ZWNhMzg3NDgyYThhNWI3NDBmODRmNjInCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBxID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL2ItZ3JhcGguZmFjZWJvb2suY29tL2F1dGgvbG9naW4nLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKS5qc29uKCkKICAgICAgICAgICAgICAgIGlmICdzZXNzaW9uX2tleScgaW4gcToKICAgICAgICAgICAgICAgICAgICBja2trID0gIjsiLmpvaW4oaVsibmFtZSJdICsgIj0iICsgaVsidmFsdWUiXSBmb3IgaSBpbiBxWyJzZXNzaW9uX2Nvb2tpZXMiXSkKICAgICAgICAgICAgICAgICAgICBzd2FnYiA9IGJhc2U2NC5iNjRlbmNvZGUob3MudXJhbmRvbSgxOCkpLmRlY29kZSgpLnJlcGxhY2UoJz0nLCAnJykucmVwbGFjZSgnKycsICdfJykucmVwbGFjZSgnLycsICctJykKICAgICAgICAgICAgICAgICAgICBjb29raWUgPSBmInNiPXtzd2FnYn07e2Nra2t9IgogICAgICAgICAgICAgICAgICAgIHByaW50KGYnXHJccntHMX1b8J2QgfCdkJHwnZCO8J2Qk/CdkIfwnZCE8J2QkS1PS10ge3NpZH0gfCB7cHN9ICcpCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC/wnZCB8J2QkfCdkI7wnZCT8J2Qh/CdkITwnZCRIC1NMS1GSUxFLU9LLnR4dCcsICdhJykud3JpdGUoZid7c2lkfXx7cHN9fHtjb29raWV9XG4nKQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoc2lkKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvciddWydtZXNzYWdlJ106CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcclxye019W/CdkIHwnZCR8J2QjvCdkJPwnZCH8J2QhPCdkJEtQ1BdIHtzaWR9IHwge3BzfSAnKQogICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQv8J2QgfCdkJHwnZCO8J2Qk/CdkIfwnZCE8J2QkSAtTTItRklMRS1PSy50eHQnLCAnYScpLndyaXRlKGYne3NpZH18e3BzfVxuJykKICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHNpZCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBsb29wICs9IDEKICAgIAogICAgZGVmIG1ldGhvZEIoc2VsZiwgc2lkLCBuYW1lLCBwc3cpOgogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJccntHMX1be0F98J2QgfCdkJHwnZCO8J2Qk/CdkIfwnZCE8J2QkS1NMntHMX1de0F9LXtHMX1be0F9e2xvb3B9e0cxfV17QX0te0cxfVt7QX1PS3tHMX0ve0F9Q1B7RzF9XXtBfS17RzF9W3tBfXtsZW4ob2tzKX17RzF9L3tBfXtsZW4oY3BzKX17RzF9XSAiKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRyeToKICAgICAgICAgICAgZnMgPSBuYW1lLnNwbGl0KCcgJylbMF0KICAgICAgICAgICAgbHMgPSBuYW1lLnNwbGl0KCcgJylbMV0KICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGZzID0gbmFtZQogICAgICAgICAgICBscyA9IGZzCiAgICAgICAgICAgIAogICAgICAgIGZvciBwdyBpbiBwc3c6CiAgICAgICAgICAgIHBzID0gcHcucmVwbGFjZSgnZmlyc3QnLCBmcy5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsIGZzKS5yZXBsYWNlKCdsYXN0JywgbHMubG93ZXIoKSkucmVwbGFjZSgnTGFzdCcsIGxzKS5yZXBsYWNlKCdOYW1lJywgbmFtZSkucmVwbGFjZSgnbmFtZScsIG5hbWUubG93ZXIoKSkKICAgICAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2Vzc2lvbjoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgJ2FkaWQnOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICAgICAnZm9ybWF0JzogJ2pzb24nLAogICAgICAgICAgICAgICAgICAgICdkZXZpY2VfaWQnOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICAgICAnY3BsJzogJ3RydWUnLAogICAgICAgICAgICAgICAgICAgICdmYW1pbHlfZGV2aWNlX2lkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAgICAgJ2NyZWRlbnRpYWxzX3R5cGUnOiAnZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJywKICAgICAgICAgICAgICAgICAgICAnZXJyb3JfZGV0YWlsX3R5cGUnOiAnYnV0dG9uX3dpdGhfZGlzYWJsZWQnLAogICAgICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnZGV2aWNlX2Jhc2VkX2xvZ2luJywKICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiBzaWQsCiAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcHMsCiAgICAgICAgICAgICAgICAgICAgJ2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsCiAgICAgICAgICAgICAgICAgICAgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywKICAgICAgICAgICAgICAgICAgICAnbWV0YV9pbmZfZmJtZXRhJzogJycsCiAgICAgICAgICAgICAgICAgICAgJ2FkdmVydGlzZXJfaWQnOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICAgICAnY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQnOiAnMCcsCiAgICAgICAgICAgICAgICAgICAgJ2xvY2FsZSc6ICdlbl9HQicsCiAgICAgICAgICAgICAgICAgICAgJ2NsaWVudF9jb3VudHJ5X2NvZGUnOiAnR0InLAogICAgICAgICAgICAgICAgICAgICdtZXRob2QnOiAnYXV0aC5sb2dpbicsCiAgICAgICAgICAgICAgICAgICAgJ2ZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZSc6ICdhdXRoZW50aWNhdGUnLAogICAgICAgICAgICAgICAgICAgICdmYl9hcGlfY2FsbGVyX2NsYXNzJzogJ2NvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlcicsCiAgICAgICAgICAgICAgICAgICAgJ2FwaV9rZXknOiAnODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogJ1tGQkFOL0ZCNEE7RkJBVi8zMzMuMC4wLjMwLjExOTtGQkJWLzMxMzY3MjY0MDtGQkRNL3tkZW5zaXR5PTIuMCx3aWR0aD03MjAsaGVpZ2h0PTE0NTZ9O0ZCTEMvcnVfUlU7RkJSVi8zMTQ2MDkzMzg7RkJDUi9Sb2JpO0ZCTUYvcmVhbG1lO0ZCQkQvcmVhbG1lO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL1JNWDIwMjE7RkJTVi8xMDtGQk9QLzE7RkJDQS9hcm02NC12OGE6O10nLAogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdncmFwaC5mYWNlYm9vay5jb20nLAogICAgICAgICAgICAgICAgICAgICdYLUZCLU5ldC1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItU0lNLUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwKICAgICAgICAgICAgICAgICAgICAnWC1GQi1Db25uZWN0aW9uLVR5cGUnOiAnTU9CSUxFLkxURScsCiAgICAgICAgICAgICAgICAgICAgJ1gtVGlnb24tSXMtUmV0cnknOiAnRmFsc2UnLAogICAgICAgICAgICAgICAgICAgICd4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD1kMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsCiAgICAgICAgICAgICAgICAgICAgJ3gtZmItZGV2aWNlLWdyb3VwJzogJzUxMjAnLAogICAgICAgICAgICAgICAgICAgICdYLUZCLUZyaWVuZGx5LU5hbWUnOiAnVmlld2VyUmVhY3Rpb25zTXV0YXRpb24nLAogICAgICAgICAgICAgICAgICAgICdYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1IVFRQLUVuZ2luZSc6ICdMaWdlcicsCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItQ2xpZW50LUlQJzogJ1RydWUnLAogICAgICAgICAgICAgICAgICAgICdYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLAogICAgICAgICAgICAgICAgICAgICd4LWZiLWNvbm5lY3Rpb24tdG9rZW4nOiAnZDI5ZDY3ZDM3ZWNhMzg3NDgyYThhNWI3NDBmODRmNjInCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBxID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL2ItZ3JhcGguZmFjZWJvb2suY29tL2F1dGgvbG9naW4nLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKS5qc29uKCkKICAgICAgICAgICAgICAgIGlmICdzZXNzaW9uX2tleScgaW4gcToKICAgICAgICAgICAgICAgICAgICBja2trID0gIjsiLmpvaW4oaVsibmFtZSJdICsgIj0iICsgaVsidmFsdWUiXSBmb3IgaSBpbiBxWyJzZXNzaW9uX2Nvb2tpZXMiXSkKICAgICAgICAgICAgICAgICAgICBzd2FnYiA9IGJhc2U2NC5iNjRlbmNvZGUob3MudXJhbmRvbSgxOCkpLmRlY29kZSgpLnJlcGxhY2UoJz0nLCAnJykucmVwbGFjZSgnKycsICdfJykucmVwbGFjZSgnLycsICctJykKICAgICAgICAgICAgICAgICAgICBjb29raWUgPSBmInNiPXtzd2FnYn07e2Nra2t9IgogICAgICAgICAgICAgICAgICAgIHByaW50KGYnXHJccntHMX1b8J2QgfCdkJHwnZCO8J2Qk/CdkIfwnZCE8J2QkS1PS10ge3NpZH0gfCB7cHN9ICcpCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC/wnZCB8J2QkfCdkI7wnZCT8J2Qh/CdkITwnZCRLU0yLUZJTEUtT0sudHh0JywgJ2EnKS53cml0ZShmJ3tzaWR9fHtwc318e2Nvb2tpZX1cbicpCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZChzaWQpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvciddWydtZXNzYWdlJ106CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcclxye019W/CdkIHwnZCR8J2QjvCdkJPwnZCH8J2QhPCdkJEtQ1BdIHtzaWR9IHwge3BzfSAnKQogICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQv8J2QgfCdkJHwnZCO8J2Qk/CdkIfwnZCE8J2QkS1NMi1GSUxFLU9LLnR4dCcsICdhJykud3JpdGUoZid7c2lkfXx7cHN9XG4nKQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQoc2lkKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGxvb3AgKz0gMQogICAgICAgIAogICAgZGVmIHBhc3coc2VsZik6CiAgICAgICAgcHcgPSBbXQogICAgICAgIGNsZWFyKCkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIEVYQU1QTEUge0F9OntHMn0gQkQgMTAtMTgvSU5ESUEgMy01JykKICAgICAgICBsaW5leCgpCiAgICAgICAgc2wgPSBpbnQoaW5wdXQoZid7RzF9W3tBfT97RzN9XSBQQVNTV09SRCBMSU1JVCB7QX06e0czfSAnKSkKICAgICAgICBjbGVhcigpCiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT97RzR9XSBFWEFNUExFIHtBfTp7RzR9IGZpcnN0MTIzL2ZpcnN0bGFzdC9maXJzdEBAQCcpCiAgICAgICAgbGluZXgoKQogICAgICAgIGlmIHNsID09ICcnOgogICAgICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHNX1dIFBVVCBMSU1JVCBCRVRXRUVOIDEgVE8gMzAnKQogICAgICAgIGVsaWYgc2wgPiAyMDoKICAgICAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzF9XSBQQVNTV09SRCBMSU1JVCBTSE9VTEQgTk9UIEJFIEdSRUFURVIgVEhBTiAzMCcpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIHNyIGluIHJhbmdlKHNsKToKICAgICAgICAgICAgICAgIHB3LmFwcGVuZChpbnB1dChmJ3tHMX1be0F9PXtHMX1dIFBBU1NXT1JEIE5PIHtHMX1be0F9e3NyKzF9e0cxfV0ge0F9OntHMX0gJykpCiAgICAgICAgY2xlYXIoKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cxfV0gVE9UQUwgRklMRSBVSUQge0F9OntHMX0gJXMgJyAlIGxlbihzZWxmLmlkKSkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIFBBU1NXT1JEIExJTUlUIHtBfTp7RzF9IHtzbH0gJykKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHM31dIFRVUk4ge0czfVt7QX1PTntBfS97QX1PRkZ7RzN9XSBBSVJQTEFORSBNT0RFIEVWRVJZIHtBfTN7RzN9IE1JTicpCiAgICAgICAgbGluZXgoKQogICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBzd2Fnd29ybGQ6CiAgICAgICAgICAgIGZvciB6c2IgaW4gc2VsZi5pZDoKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB6c2Iuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgICAgIHN6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHN6KSA9PSAzIG9yIGxlbihzeikgPT0gNCBvciBsZW4oc3opID09IDUgb3IgbGVuKHN6KSA9PSA4OgogICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBwdwogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IHB3CiAgICAgICAgICAgICAgICAgICAgaWYgJ21ldGhvZEEnIGluIG1ldGhvZHM6CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWd3b3JsZC5zdWJtaXQoc2VsZi5tZXRob2RBLCB1aWQsIG5hbWUsIHB3eCkKICAgICAgICAgICAgICAgICAgICBlbGlmICdtZXRob2RCJyBpbiBtZXRob2RzOgogICAgICAgICAgICAgICAgICAgICAgICBzd2Fnd29ybGQuc3VibWl0KHNlbGYubWV0aG9kQiwgdWlkLCBuYW1lLCBwd3gpCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgIHJlc3VsdChva3MsIGNwcykKCmRlZiByYW5kbShpZHMsIHBzZCk6CiAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHJ7RzF9W3tBfUNyYWNrZXtHMX1de0F9LXtHMX1be0F9e2xvb3B9e0cxfV17QX0te0cxfVt7QX1PS3tHMX0ve0F9Q1B7RzF9XXtBfS17RzF9W3tBfXtsZW4ob2spfXtHMX0ve0F9e2xlbihjcCl9e0cxfV0gIikKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgdHJ5OgogICAgICAgIGZvciBwYXMgaW4gcHNkOgogICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgJ2FkaWQnOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICdmb3JtYXQnOiAnanNvbicsCiAgICAgICAgICAgICAgICAnZGV2aWNlX2lkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAnZW1haWwnOiBpZHMsCiAgICAgICAgICAgICAgICAncGFzc3dvcmQnOiBwYXMsCiAgICAgICAgICAgICAgICAnZ2VuZXJhdGVfYW5hbHl0aWNzX2NsYWltcyc6ICcxJywKICAgICAgICAgICAgICAgICdjb21tdW5pdHlfaWQnOiAnJywKICAgICAgICAgICAgICAgICdjcGwnOiAndHJ1ZScsCiAgICAgICAgICAgICAgICAndHJ5X251bSc6ICcxJywKICAgICAgICAgICAgICAgICdmYW1pbHlfZGV2aWNlX2lkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAnY3JlZGVudGlhbHNfdHlwZSc6ICdwYXNzd29yZCcsCiAgICAgICAgICAgICAgICAnc291cmNlJzogJ2xvZ2luJywKICAgICAgICAgICAgICAgICdlcnJvcl9kZXRhaWxfdHlwZSc6ICdidXR0b25fd2l0aF9kaXNhYmxlZCcsCiAgICAgICAgICAgICAgICAnZW5yb2xsX21pc2F1dGgnOiAnZmFsc2UnLAogICAgICAgICAgICAgICAgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywKICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9tYWNoaW5lX2lkJzogJzEnLAogICAgICAgICAgICAgICAgJ2N1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkJzogJzAnLAogICAgICAgICAgICAgICAgJ2xvY2FsZSc6ICdlbl9VUycsCiAgICAgICAgICAgICAgICAnY2xpZW50X2NvdW50cnlfY29kZSc6ICdVUycsCiAgICAgICAgICAgICAgICAnZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lJzogJ2F1dGhlbnRpY2F0ZScsCiAgICAgICAgICAgICAgICAnYXBpX2tleSc6ICc2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsCiAgICAgICAgICAgICAgICAnYWNjZXNzX3Rva2VuJzogJzM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicKICAgICAgICAgICAgfQogICAgICAgICAgICBoZWFkID0gewogICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnW0ZCQU4vRkI0QTtGQkFWLzI3OS4wLjAuNDMuMTIwO0ZCQlYvMjMxMDIxMDY4O0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTEwODAsaGVpZ2h0PTIwNzZ9O0ZCTEMvZW5fVVM7RkJSVi8wO0ZCQ1IvUm9iaTtGQk1GL3NhbXN1bmc7RkJCRC9zYW1zdW5nO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL1NNLUc5NTBVO0ZCU1YvOTtGQk9QLzE7RkJDQS9hcm02NC12OGE6O10nLAogICAgICAgICAgICAgICAgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywKICAgICAgICAgICAgICAgICdDb25uZWN0aW9uJzogJ2Nsb3NlJywKICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICdIb3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICAgICAnWC1GQi1OZXQtSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAsIDQwMDApKSwKICAgICAgICAgICAgICAgICdYLUZCLVNJTS1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMCwgNDAwMCkpLAogICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnT0F1dGggMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKICAgICAgICAgICAgICAgICdYLUZCLUNvbm5lY3Rpb24tVHlwZSc6ICdXSUZJJywKICAgICAgICAgICAgICAgICdYLVRpZ29uLUlzLVJldHJ5JzogJ0ZhbHNlJywKICAgICAgICAgICAgICAgICd4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD02MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsCiAgICAgICAgICAgICAgICAneC1mYi1kZXZpY2UtZ3JvdXAnOiAnNTEyMCcsCiAgICAgICAgICAgICAgICAnWC1GQi1GcmllbmRseS1OYW1lJzogJ1ZpZXdlclJlYWN0aW9uc011dGF0aW9uJywKICAgICAgICAgICAgICAgICdYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywKICAgICAgICAgICAgICAgICdYLUZCLUhUVFAtRW5naW5lJzogJ0xpZ2VyJywKICAgICAgICAgICAgICAgICdYLUZCLUNsaWVudC1JUCc6ICdUcnVlJywKICAgICAgICAgICAgICAgICdYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLAogICAgICAgICAgICAgICAgJ3gtZmItY29ubmVjdGlvbi10b2tlbic6ICc2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicKICAgICAgICAgICAgfQogICAgICAgICAgICB1cmwgPSAnaHR0cHM6Ly9iLWdyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luJwogICAgICAgICAgICBwbyA9IHJlcXVlc3RzLnBvc3QodXJsLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZCwgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKS50ZXh0CiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHBvKQogICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgICAgICAgICAgdWlkID0gc3RyKHFbJ3VpZCddKQogICAgICAgICAgICAgICAgY29raSA9ICI7Ii5qb2luKGlbJ25hbWUnXSArICI9IiArIGlbJ3ZhbHVlJ10gZm9yIGkgaW4gcVsnc2Vzc2lvbl9jb29raWVzJ10pCiAgICAgICAgICAgICAgICBwcmludChmJ1xyXHJ7RzF9W/CdkIHwnZCR8J2QjvCdkJPwnZCH8J2QhPCdkJEtT0tdIHt1aWR9IHwge3Bhc30nKQogICAgICAgICAgICAgICAgcHJpbnQoZidcclxye0cxfVtDT09LSUVde0F9IHtjb2tpfScpCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL/CdkIHwnZCR8J2QjvCdkJPwnZCH8J2QhPCdkJEtT0sudHh0JywgJ2EnKS53cml0ZShmJ3t1aWR9fHtwYXN9fHtjb2tpfVxuJykKICAgICAgICAgICAgICAgIG9rLmFwcGVuZCh1aWQpCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY29udGludWUKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChlKQogICAgICAgIHBhc3MKICAgIGxvb3AgKz0gMQoKIyBLZXkgZ2VuZXJhdGlvbiBhbmQgYXBwcm92YWwgY2hlY2sKSzEgPSBzdHIob3MuZ2V0dWlkKCkpCksyID0gc3RyKG9zLmdldGdpZCgpKQpudW1fa2V5ID0gJ0FLQVNIJy5qb2luKEsxICsgSzIpLnVwcGVyKCkKZnJvbSBpbyBpbXBvcnQgQnl0ZXNJTwppbXBvcnQgcHljdXJsCmltcG9ydCBjZXJ0aWZpCgpkZWYgYXB2KCk6CiAgICB1cmwgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL01SLUFLQVNILTQwNC9LZXkxL3JlZnMvaGVhZHMvbWFpbi9LZXkxLnR4dCcKICAgIHRyeToKICAgICAgICBidWZmZXIgPSBCeXRlc0lPKCkKICAgICAgICBjdXJsID0gcHljdXJsLkN1cmwoKQogICAgICAgIGN1cmwuc2V0b3B0KGN1cmwuVVJMLCB1cmwpCiAgICAgICAgY3VybC5zZXRvcHQoY3VybC5XUklURURBVEEsIGJ1ZmZlcikKICAgICAgICBjdXJsLnNldG9wdChjdXJsLkNBSU5GTywgY2VydGlmaS53aGVyZSgpKQogICAgICAgIGN1cmwucGVyZm9ybSgpCiAgICAgICAgY3VybC5jbG9zZSgpCiAgICAgICAgZGF0YXggPSBidWZmZXIuZ2V0dmFsdWUoKS5kZWNvZGUoJ3V0Zi04JykKICAgICAgICBpZiBudW1fa2V5IGluIGRhdGF4OgogICAgICAgICAgICBtZW51KCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBjbGVhcigpCiAgICAgICAgICAgIHByaW50KCIgW+Kck10gS2V5IE5vdCBBcHByb3ZlZCIpCiAgICAgICAgICAgIHByaW50KCIgISEgS2V5IC0gIiArIG51bV9rZXkpCiAgICAgICAgICAgIG9zLnN5c3RlbSgndGVybXV4LW9wZW4gaHR0cHM6Ly9jaGF0LndoYXRzYXBwLmNvbS9ISVJSS0tkeHlRWktUMTRHTTlkb2hyP21vZGU9YWNfdCcpCiAgICAgICAgICAgIHN5cy5leGl0KCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChlKQogICAgICAgIHN5cy5leGl0KCdbISFdIEludGVybmV0IEVycm9yLi4uJykKCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgbWVudSgp'))